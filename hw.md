## Задание 1.

Микросервисы:

1. **Authentication Service**:
    - **Задачи**: Регистрация и аутентификация пользователей (по почте и паролю + OAuth).
    - **Данные**: Информация для аутентификации (email, хэш пароля, OAuth токены).
    - **API**:
        - `POST /register`: Регистрация нового пользователя.
        - `POST /login`: Аутентификация пользователя.
        - `POST /oauth-login`: Аутентификация через OAuth.
    - **Взаимодействие:** User Profile Service
    - **События**:
        - Производимые:  UserRegistered, UserAuthorized
        - Потребляемые: —
    - **БД**: PostgreSQL (надежная реляционная БД с поддержкой ACID и сложных запросов).
2. **User Profile Service**:
    - **Задачи**: Управление профилем пользователя (редактирование профиля, аватарки, никнейма).
    - **Данные**: Информация профиля (никнейм, информация о себе, аватарка).
    - **API**:
        - `PUT /user/{id}`: Обновление профиля пользователя.
        - `GET /user/{id}`: Получение информации о пользователе.
        - `GET /user/search?nickname={nickname}`: Поиск пользователей по никнейму.
    - **Взаимодействие:** Authentication Service, Friends Service, Chat Service
    - **События**:
        - Производимые:  UserProfileUpdated
        - Потребляемые: UserRegistered, UserAuthorized
    - **БД**: MongoDB (гибкая нереляционная ****БД, позволяющая хранить данные разных типов).
3. **Friends Service**:
    - **Задачи**: Управление запросами на дружбу (добавление, удаление, подтверждение, отклонение).
    - **Данные**: Список друзей, запросы на дружбу.
    - **API**:
        - `POST /friend-request`: Отправка запроса на дружбу.
        - `PUT /friend-request/{id}/accept`: Принятие запроса на дружбу.
        - `POST /friend_request/{request_id}/decline`: Отклонение запроса на дружбу
        - `DELETE /friend/{id}`: Удаление друга.
        - `GET /friends/{userId}`: Получение списка друзей.
    - **Взаимодействие:** User Profile Service, Chat Service
    - **События**:
        - Производимые:  FriendRequestSent, FriendRequestAccepted, FriendRequestDeclined, FriendDeleted
        - Потребляемые: —
    - **БД**: MongoDB (гибкость для хранения данных о дружбе и запросах, простота в работе с возможными изменениями структур запросов).
4. **Chat Service**:
    - **Задачи**: Управление чатами и сообщениями (отправка, получение сообщений).
    - **Данные**: Чаты и сообщения.
    - **API**:
        - `POST /chat`: Создание нового чата.
        - `POST /chat/{chatId}/message`: Отправка сообщения в чат.
        - `GET /chat/{chatId}/messages`: Получение сообщений из чата.
    - **Взаимодействие:** User Profile Service, Chat Service
    - **События**:
        - Производимые:  MessageSent, MessageReceived
        - Потребляемые: —
    - **БД**: Cassandra (для масштабируемого и быстрого хранения сообщений).

## Задание 2.

![schema.png](/ms_hw01/schema.png)

## Задание 3. ⭐

**Брокер сообщений:** Apache Kafka (высокая производительность, способность масштабироваться, отказоустойчивость и надежное хранение сообщений).